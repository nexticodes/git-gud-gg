<%- include('../partials/header') %>

<div class="content-container">
    <% if (matches.length == 0) {%>
    <h1>It seems like you haven't recorded any matches.</h1>
    <% } else { %>
        <h1 class="content-h1" >Recently Played</h1>
        <% matches.forEach(m => { %>
            <div class="match-container">
                <div class="avatar">
                    <img src="<%=m.character.path%>">
                    <p><%=m.character.name%></p>
                </div>
                <div class="scores">
                    <h2>Kills: <%= m.kills %></h2>
                    <h2>Deaths: <%= m.deaths %></h2>
                    <h2>K/D: <%= (m.kills / ((m.deaths === 0) ? 1 : m.deaths)).toFixed(2) %></h2>
                </div>
                <div class="result">
                   <h1><%= (m.win) ? 'W' : 'L' %></h1>
                </div>
                <form action="/matches/<%= m._id %>" method="GET">
                    <input class="details-button" type="submit" value="DETAILS">
                </form>
            </div>
        <% }) %>
    <%} %>
    <form action="/matches/new" method="GET">
        <button class="add-sign" type="submit">+</button>
    </form>
</div>

<%- include('../partials/footer') %>
